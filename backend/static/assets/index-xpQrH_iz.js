const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-h1A0m645.js","assets/vendor-data-BYhqPCcD.js","assets/vendor-react-CfDhA8Yr.js","assets/format-B0kU3Ifh.js","assets/label-DfyEqqfc.js","assets/vendor-radix-BeDz-D1T.js","assets/vendor-utils-E_de3sau.js","assets/card-BKnyINDp.js","assets/vendor-charts-BXvgwH96.js","assets/StockAnalysisDialog-lkeLdUl1.js","assets/HighTurnoverPage-DqlbjzyE.js","assets/Top20TurnoverLimitUpPage-Dqz26_KY.js","assets/TurnoverFiltersPage-BBnoD7w3.js","assets/MaBreakoutPage-zENHXUK3.js","assets/RealtimeMonitorPage-Dxd0DFh8.js","assets/OtherPages-Dwh7Ip4d.js"])))=>i.map(i=>d[i]);
import{j as r,c as A,Q as H,a as C}from"./vendor-data-BYhqPCcD.js";import{b as D,r as p,B,e as F,f as y,u as M,L as w,R as U}from"./vendor-react-CfDhA8Yr.js";import{S as q}from"./vendor-radix-BeDz-D1T.js";import{t as $,c as J,a as Q,T as W,S as Z,M as K,X as V,b as X,L as G,Z as N,d as Y,A as ee,F as te}from"./vendor-utils-E_de3sau.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const e of n)if(e.type==="childList")for(const o of e.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function i(n){const e={};return n.integrity&&(e.integrity=n.integrity),n.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?e.credentials="include":n.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function c(n){if(n.ep)return;n.ep=!0;const e=i(n);fetch(n.href,e)}})();var R={},I=D;R.createRoot=I.createRoot,R.hydrateRoot=I.hydrateRoot;const re="modulepreload",ne=function(t){return"/"+t},L={},_=function(a,i,c){let n=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),m=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(i.map(h=>{if(h=ne(h),h in L)return;L[h]=!0;const u=h.endsWith(".css"),P=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${P}`))return;const v=document.createElement("link");if(v.rel=u?"stylesheet":re,u||(v.as="script"),v.crossOrigin="",v.href=h,m&&v.setAttribute("nonce",m),document.head.appendChild(v),u)return new Promise((b,x)=>{v.addEventListener("load",b),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function e(o){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=o,window.dispatchEvent(m),!m.defaultPrevented)throw o}return n.then(o=>{for(const m of o||[])m.status==="rejected"&&e(m.reason);return a().catch(e)})};function oe(...t){return $(J(t))}const ae=Q("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),E=p.forwardRef(({className:t,variant:a,size:i,asChild:c=!1,...n},e)=>{const o=c?q:"button";return r.jsx(o,{className:oe(ae({variant:a,size:i,className:t})),ref:e,...n})});E.displayName="Button";const se={};function ie(t,a){let i;try{i=t()}catch{return}return{getItem:n=>{var e;const o=h=>h===null?null:JSON.parse(h,void 0),m=(e=i.getItem(n))!=null?e:null;return m instanceof Promise?m.then(o):o(m)},setItem:(n,e)=>i.setItem(n,JSON.stringify(e,void 0)),removeItem:n=>i.removeItem(n)}}const S=t=>a=>{try{const i=t(a);return i instanceof Promise?i:{then(c){return S(c)(i)},catch(c){return this}}}catch(i){return{then(c){return this},catch(c){return S(c)(i)}}}},le=(t,a)=>(i,c,n)=>{let e={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:l=>l,version:0,merge:(l,f)=>({...f,...l}),...a},o=!1;const m=new Set,h=new Set;let u;try{u=e.getStorage()}catch{}if(!u)return t((...l)=>{console.warn(`[zustand persist middleware] Unable to update item '${e.name}', the given storage is currently unavailable.`),i(...l)},c,n);const P=S(e.serialize),v=()=>{const l=e.partialize({...c()});let f;const s=P({state:l,version:e.version}).then(g=>u.setItem(e.name,g)).catch(g=>{f=g});if(f)throw f;return s},b=n.setState;n.setState=(l,f)=>{b(l,f),v()};const x=t((...l)=>{i(...l),v()},c,n);let j;const d=()=>{var l;if(!u)return;o=!1,m.forEach(s=>s(c()));const f=((l=e.onRehydrateStorage)==null?void 0:l.call(e,c()))||void 0;return S(u.getItem.bind(u))(e.name).then(s=>{if(s)return e.deserialize(s)}).then(s=>{if(s)if(typeof s.version=="number"&&s.version!==e.version){if(e.migrate)return e.migrate(s.state,s.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return s.state}).then(s=>{var g;return j=e.merge(s,(g=c())!=null?g:x),i(j,!0),v()}).then(()=>{f==null||f(j,void 0),o=!0,h.forEach(s=>s(j))}).catch(s=>{f==null||f(void 0,s)})};return n.persist={setOptions:l=>{e={...e,...l},l.getStorage&&(u=l.getStorage())},clearStorage:()=>{u==null||u.removeItem(e.name)},getOptions:()=>e,rehydrate:()=>d(),hasHydrated:()=>o,onHydrate:l=>(m.add(l),()=>{m.delete(l)}),onFinishHydration:l=>(h.add(l),()=>{h.delete(l)})},d(),j||x},ce=(t,a)=>(i,c,n)=>{let e={storage:ie(()=>localStorage),partialize:d=>d,version:0,merge:(d,l)=>({...l,...d}),...a},o=!1;const m=new Set,h=new Set;let u=e.storage;if(!u)return t((...d)=>{console.warn(`[zustand persist middleware] Unable to update item '${e.name}', the given storage is currently unavailable.`),i(...d)},c,n);const P=()=>{const d=e.partialize({...c()});return u.setItem(e.name,{state:d,version:e.version})},v=n.setState;n.setState=(d,l)=>{v(d,l),P()};const b=t((...d)=>{i(...d),P()},c,n);n.getInitialState=()=>b;let x;const j=()=>{var d,l;if(!u)return;o=!1,m.forEach(s=>{var g;return s((g=c())!=null?g:b)});const f=((l=e.onRehydrateStorage)==null?void 0:l.call(e,(d=c())!=null?d:b))||void 0;return S(u.getItem.bind(u))(e.name).then(s=>{if(s)if(typeof s.version=="number"&&s.version!==e.version){if(e.migrate)return[!0,e.migrate(s.state,s.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,s.state];return[!1,void 0]}).then(s=>{var g;const[O,z]=s;if(x=e.merge(z,(g=c())!=null?g:b),i(x,!0),O)return P()}).then(()=>{f==null||f(x,void 0),x=c(),o=!0,h.forEach(s=>s(x))}).catch(s=>{f==null||f(void 0,s)})};return n.persist={setOptions:d=>{e={...e,...d},d.storage&&(u=d.storage)},clearStorage:()=>{u==null||u.removeItem(e.name)},getOptions:()=>e,rehydrate:()=>j(),hasHydrated:()=>o,onHydrate:d=>(m.add(d),()=>{m.delete(d)}),onFinishHydration:d=>(h.add(d),()=>{h.delete(d)})},e.skipHydration||j(),x||b},de=(t,a)=>"getStorage"in a||"serialize"in a||"deserialize"in a?((se?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),le(t,a)):ce(t,a),ue=de,k={change_min:void 0,change_max:void 0,volume_min:void 0,volume_max:void 0,price_min:void 0,price_max:void 0,consecutive_up_min:void 0,consecutive_up_max:void 0,amplitude_min:void 0,amplitude_max:void 0,volume_ratio_min:void 0,volume_ratio_max:void 0,exclude_etf:!0,page:1,page_size:50,sort_by:"change_percent",sort_order:"desc"},T=A()(ue(t=>({theme:"dark",setTheme:a=>t({theme:a}),toggleTheme:()=>t(a=>({theme:a.theme==="dark"?"light":"dark"})),queryDate:"",setQueryDate:a=>t({queryDate:a}),filterParams:k,setFilterParams:a=>t(i=>({filterParams:{...i.filterParams,...a}})),resetFilterParams:()=>t({filterParams:k}),selectedStock:null,setSelectedStock:a=>t({selectedStock:a}),analysisModalOpen:!1,setAnalysisModalOpen:a=>t({analysisModalOpen:a})}),{name:"twse-filter-storage",partialize:t=>({theme:t.theme})})),me=p.lazy(()=>_(()=>import("./HomePage-h1A0m645.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then(t=>({default:t.HomePage}))),he=p.lazy(()=>_(()=>import("./HighTurnoverPage-DqlbjzyE.js"),__vite__mapDeps([10,1,2,7,3,4,5,6,8,9])).then(t=>({default:t.HighTurnoverPage}))),fe=p.lazy(()=>_(()=>import("./Top20TurnoverLimitUpPage-Dqz26_KY.js"),__vite__mapDeps([11,1,2,7,3,6,8,9,5])).then(t=>({default:t.Top20TurnoverLimitUpPage}))),pe=p.lazy(()=>_(()=>import("./TurnoverFiltersPage-BBnoD7w3.js"),__vite__mapDeps([12,1,2,7,3,4,5,6,9,8])).then(t=>({default:t.TurnoverFiltersPage}))),ve=p.lazy(()=>_(()=>import("./MaBreakoutPage-zENHXUK3.js"),__vite__mapDeps([13,1,2,7,3,4,5,6,9,8])).then(t=>({default:t.MaBreakoutPage}))),ge=p.lazy(()=>_(()=>import("./RealtimeMonitorPage-Dxd0DFh8.js"),__vite__mapDeps([14,1,2,7,3,4,5,6])).then(t=>({default:t.RealtimeMonitorPage}))),xe=p.lazy(()=>_(()=>import("./OtherPages-Dwh7Ip4d.js"),__vite__mapDeps([15,1,2,7,6,5])).then(t=>({default:t.BacktestPage}))),ye=p.lazy(()=>_(()=>import("./OtherPages-Dwh7Ip4d.js"),__vite__mapDeps([15,1,2,7,6,5])).then(t=>({default:t.WatchlistPage}))),_e=p.lazy(()=>_(()=>import("./OtherPages-Dwh7Ip4d.js"),__vite__mapDeps([15,1,2,7,6,5])).then(t=>({default:t.HistoryPage}))),be=p.lazy(()=>_(()=>import("./OtherPages-Dwh7Ip4d.js"),__vite__mapDeps([15,1,2,7,6,5])).then(t=>({default:t.BatchComparePage}))),je=new H({defaultOptions:{queries:{retry:2,staleTime:6e4}}});function Pe(){return r.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:r.jsx(G,{className:"w-8 h-8 animate-spin text-primary"})})}function Se(){const{theme:t,toggleTheme:a}=T(),[i,c]=p.useState(!1),n=M();p.useEffect(()=>{c(!1)},[n.pathname]);const e=[{to:"/",label:"即時篩選",icon:null},{to:"/realtime",label:"盤中監控",icon:r.jsx(N,{className:"w-4 h-4 text-yellow-500"})},{to:"/top20-limit-up",label:"前200周轉漲停",icon:r.jsx(Y,{className:"w-4 h-4 text-yellow-500"})},{to:"/turnover-filters",label:"篩選器",icon:r.jsx(ee,{className:"w-4 h-4 text-blue-500"})},{to:"/ma-breakout",label:"均線突破",icon:r.jsx(N,{className:"w-4 h-4 text-purple-500"})},{to:"/turnover",label:"高周轉漲停",icon:r.jsx(te,{className:"w-4 h-4 text-orange-500"})},{to:"/batch",label:"批次比對",icon:null},{to:"/backtest",label:"回測分析",icon:null},{to:"/watchlist",label:"監控清單",icon:null},{to:"/history",label:"歷史記錄",icon:null}];return r.jsxs("header",{className:"border-b bg-card sticky top-0 z-50",children:[r.jsxs("div",{className:"container mx-auto flex items-center justify-between h-14 px-4",children:[r.jsxs(w,{to:"/",className:"flex items-center gap-2 font-bold text-lg",children:[r.jsx(W,{className:"w-6 h-6 text-primary"}),"TWSE 篩選器"]}),r.jsx("nav",{className:"hidden md:flex items-center gap-1",children:e.map(o=>r.jsx(E,{variant:"ghost",size:"sm",asChild:!0,children:r.jsxs(w,{to:o.to,className:"flex items-center gap-1",children:[o.icon,o.label]})},o.to))}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(E,{variant:"ghost",size:"icon",onClick:a,children:t==="dark"?r.jsx(Z,{className:"w-5 h-5"}):r.jsx(K,{className:"w-5 h-5"})}),r.jsx(E,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>c(!i),"aria-label":"開啟選單",children:i?r.jsx(V,{className:"w-5 h-5"}):r.jsx(X,{className:"w-5 h-5"})})]})]}),i&&r.jsx("nav",{className:"md:hidden border-t bg-card/95 backdrop-blur-sm",children:r.jsx("div",{className:"container mx-auto px-4 py-2 flex flex-col gap-1",children:e.map(o=>r.jsxs(w,{to:o.to,className:`flex items-center gap-2 px-3 py-2.5 rounded-md text-sm font-medium transition-colors hover:bg-muted ${n.pathname===o.to?"bg-muted text-primary":"text-foreground"}`,children:[o.icon,o.label]},o.to))})})]})}function Ee(){const{theme:t}=T();return p.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(Se,{}),r.jsx(p.Suspense,{fallback:r.jsx(Pe,{}),children:r.jsxs(F,{children:[r.jsx(y,{path:"/",element:r.jsx(me,{})}),r.jsx(y,{path:"/top20-limit-up",element:r.jsx(fe,{})}),r.jsx(y,{path:"/turnover-filters",element:r.jsx(pe,{})}),r.jsx(y,{path:"/ma-breakout",element:r.jsx(ve,{})}),r.jsx(y,{path:"/realtime",element:r.jsx(ge,{})}),r.jsx(y,{path:"/turnover",element:r.jsx(he,{})}),r.jsx(y,{path:"/batch",element:r.jsx(be,{})}),r.jsx(y,{path:"/backtest",element:r.jsx(xe,{})}),r.jsx(y,{path:"/watchlist",element:r.jsx(ye,{})}),r.jsx(y,{path:"/history",element:r.jsx(_e,{})})]})})]})}function we(){return r.jsx(C,{client:je,children:r.jsx(B,{children:r.jsx(Ee,{})})})}R.createRoot(document.getElementById("root")).render(r.jsx(U.StrictMode,{children:r.jsx(we,{})}));export{E as B,oe as c,ue as p,T as u};
