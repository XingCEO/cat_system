const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-Cq88HkAX.js","assets/vendor-data-CkOiUkF9.js","assets/vendor-react-CiXd1m8D.js","assets/input-C5aoutXU.js","assets/label-D66ahaKK.js","assets/vendor-radix-aGPdNwig.js","assets/vendor-utils-3hQanHZm.js","assets/card-BInHG3Zt.js","assets/format-CUqWL-d1.js","assets/vendor-charts-2uieviVG.js","assets/StockAnalysisDialog-Bwyn-n6i.js","assets/HighTurnoverPage-3N_7rR3L.js","assets/Top20TurnoverLimitUpPage-BogLbJ-7.js","assets/TurnoverFiltersPage-Cqy-Fu4X.js","assets/MaBreakoutPage-CazG0mPF.js","assets/MaStrategyPage-GzY-L4KS.js","assets/RealtimeMonitorPage-DBbeK3pb.js","assets/NotFoundPage-BzMZqbOZ.js","assets/OtherPages-BIuRPDyV.js"])))=>i.map(i=>d[i]);
var B=Object.defineProperty;var F=(t,o,a)=>o in t?B(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a;var R=(t,o,a)=>F(t,typeof o!="symbol"?o+"":o,a);import{j as e,c as M,Q as H,a as V}from"./vendor-data-CkOiUkF9.js";import{f as q,g as U,a as d,B as $,h as Q,i as f,u as W,L as S,R as J}from"./vendor-react-CiXd1m8D.js";import{S as Z}from"./vendor-radix-aGPdNwig.js";import{t as K,c as X,a as G,T as Y,R as ee,C as te,S as re,M as ae,X as se,b as ne,L as oe,Z as O,d as ie,A as le,e as ce,F as de}from"./vendor-utils-3hQanHZm.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=a(s);fetch(s.href,r)}})();var E={},I;function ue(){if(I)return E;I=1;var t=q();return E.createRoot=t.createRoot,E.hydrateRoot=t.hydrateRoot,E}var me=ue();const he=U(me),fe="modulepreload",pe=function(t){return"/"+t},C={},p=function(o,a,i){let s=Promise.resolve();if(a&&a.length>0){let c=function(m){return Promise.all(m.map(u=>Promise.resolve(u).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),x=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));s=c(a.map(m=>{if(m=pe(m),m in C)return;C[m]=!0;const u=m.endsWith(".css"),v=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":fe,u||(g.as="script"),g.crossOrigin="",g.href=m,x&&g.setAttribute("nonce",x),document.head.appendChild(g),u)return new Promise((j,y)=>{g.addEventListener("load",j),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${m}`)))})}))}function r(c){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=c,window.dispatchEvent(n),!n.defaultPrevented)throw c}return s.then(c=>{for(const n of c||[])n.status==="rejected"&&r(n.reason);return o().catch(r)})};function ge(...t){return K(X(t))}const xe=G("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 cursor-pointer active:scale-[0.98]",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90 hover:shadow-md",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-accent",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent/80 hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-emerald-600 text-white shadow-sm hover:bg-emerald-700 dark:bg-emerald-600 dark:hover:bg-emerald-500",warning:"bg-amber-500 text-white shadow-sm hover:bg-amber-600 dark:bg-amber-500 dark:hover:bg-amber-400"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3 text-xs",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),P=d.forwardRef(({className:t,variant:o,size:a,asChild:i=!1,...s},r)=>{const c=i?Z:"button";return e.jsx(c,{className:ge(xe({variant:o,size:a,className:t})),ref:r,...s})});P.displayName="Button";function ve(t,o){let a;try{a=t()}catch{return}return{getItem:s=>{var r;const c=x=>x===null?null:JSON.parse(x,void 0),n=(r=a.getItem(s))!=null?r:null;return n instanceof Promise?n.then(c):c(n)},setItem:(s,r)=>a.setItem(s,JSON.stringify(r,void 0)),removeItem:s=>a.removeItem(s)}}const L=t=>o=>{try{const a=t(o);return a instanceof Promise?a:{then(i){return L(i)(a)},catch(i){return this}}}catch(a){return{then(i){return this},catch(i){return L(i)(a)}}}},be=(t,o)=>(a,i,s)=>{let r={storage:ve(()=>window.localStorage),partialize:l=>l,version:0,merge:(l,_)=>({..._,...l}),...o},c=!1,n=0;const x=new Set,m=new Set;let u=r.storage;if(!u)return t((...l)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),a(...l)},i,s);const v=()=>{const l=r.partialize({...i()});return u.setItem(r.name,{state:l,version:r.version})},g=s.setState;s.setState=(l,_)=>(g(l,_),v());const j=t((...l)=>(a(...l),v()),i,s);s.getInitialState=()=>j;let y;const T=()=>{var l,_;if(!u)return;const N=++n;c=!1,x.forEach(h=>{var b;return h((b=i())!=null?b:j)});const w=((_=r.onRehydrateStorage)==null?void 0:_.call(r,(l=i())!=null?l:j))||void 0;return L(u.getItem.bind(u))(r.name).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==r.version){if(r.migrate){const b=r.migrate(h.state,h.version);return b instanceof Promise?b.then(k=>[!0,k]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,h.state];return[!1,void 0]}).then(h=>{var b;if(N!==n)return;const[k,z]=h;if(y=r.merge(z,(b=i())!=null?b:j),a(y,!0),k)return v()}).then(()=>{N===n&&(w==null||w(y,void 0),y=i(),c=!0,m.forEach(h=>h(y)))}).catch(h=>{N===n&&(w==null||w(void 0,h))})};return s.persist={setOptions:l=>{r={...r,...l},l.storage&&(u=l.storage)},clearStorage:()=>{u==null||u.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>T(),hasHydrated:()=>c,onHydrate:l=>(x.add(l),()=>{x.delete(l)}),onFinishHydration:l=>(m.add(l),()=>{m.delete(l)})},r.skipHydration||T(),y||j},ye=be,A={change_min:void 0,change_max:void 0,volume_min:void 0,volume_max:void 0,price_min:void 0,price_max:void 0,consecutive_up_min:void 0,consecutive_up_max:void 0,amplitude_min:void 0,amplitude_max:void 0,volume_ratio_min:void 0,volume_ratio_max:void 0,exclude_etf:!0,page:1,page_size:50,sort_by:"change_percent",sort_order:"desc"},D=M()(ye(t=>({theme:"dark",setTheme:o=>t({theme:o}),toggleTheme:()=>t(o=>({theme:o.theme==="dark"?"light":"dark"})),queryDate:"",setQueryDate:o=>t({queryDate:o}),filterParams:A,setFilterParams:o=>t(a=>({filterParams:{...a.filterParams,...o}})),resetFilterParams:()=>t({filterParams:A}),selectedStock:null,setSelectedStock:o=>t({selectedStock:o}),analysisModalOpen:!1,setAnalysisModalOpen:o=>t({analysisModalOpen:o})}),{name:"twse-filter-storage",partialize:t=>({theme:t.theme})}));class je extends d.Component{constructor(a){super(a);R(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});R(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,i){this.setState({errorInfo:i}),console.error("ErrorBoundary caught an error:",a),console.error("Component stack:",i.componentStack)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-[400px] flex items-center justify-center p-8",children:e.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/10 flex items-center justify-center",children:e.jsx(Y,{className:"w-8 h-8 text-red-500"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"發生錯誤"}),e.jsx("p",{className:"text-muted-foreground",children:"頁面載入時發生問題，請嘗試重新整理或回到首頁。"})]}),!1,e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx(P,{variant:"outline",onClick:this.handleReset,children:"重試"}),e.jsxs(P,{onClick:this.handleReload,children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"重新整理頁面"]})]})]})}):this.props.children}}const _e=d.lazy(()=>p(()=>import("./HomePage-Cq88HkAX.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(t=>({default:t.HomePage}))),Pe=d.lazy(()=>p(()=>import("./HighTurnoverPage-3N_7rR3L.js"),__vite__mapDeps([11,1,2,7,3,4,5,6,9,10,8])).then(t=>({default:t.HighTurnoverPage}))),we=d.lazy(()=>p(()=>import("./Top20TurnoverLimitUpPage-BogLbJ-7.js"),__vite__mapDeps([12,1,2,7,3,6,9,10,5,8])).then(t=>({default:t.Top20TurnoverLimitUpPage}))),Ee=d.lazy(()=>p(()=>import("./TurnoverFiltersPage-Cqy-Fu4X.js"),__vite__mapDeps([13,1,2,7,3,4,5,6,10,9,8])).then(t=>({default:t.TurnoverFiltersPage}))),Ne=d.lazy(()=>p(()=>import("./MaBreakoutPage-CazG0mPF.js"),__vite__mapDeps([14,1,2,7,3,4,5,6,10,9,8])).then(t=>({default:t.MaBreakoutPage}))),ke=d.lazy(()=>p(()=>import("./MaStrategyPage-GzY-L4KS.js"),__vite__mapDeps([15,1,2,7,10,5,6,9,3]))),Re=d.lazy(()=>p(()=>import("./RealtimeMonitorPage-DBbeK3pb.js"),__vite__mapDeps([16,1,2,7,3,4,5,6,8]))),Se=d.lazy(()=>p(()=>import("./NotFoundPage-BzMZqbOZ.js"),__vite__mapDeps([17,1,2,6,5])).then(t=>({default:t.NotFoundPage}))),Le=d.lazy(()=>p(()=>import("./OtherPages-BIuRPDyV.js"),__vite__mapDeps([18,1,2,7,6,5])).then(t=>({default:t.BacktestPage}))),Te=d.lazy(()=>p(()=>import("./OtherPages-BIuRPDyV.js"),__vite__mapDeps([18,1,2,7,6,5])).then(t=>({default:t.WatchlistPage}))),Oe=d.lazy(()=>p(()=>import("./OtherPages-BIuRPDyV.js"),__vite__mapDeps([18,1,2,7,6,5])).then(t=>({default:t.HistoryPage}))),Ie=d.lazy(()=>p(()=>import("./OtherPages-BIuRPDyV.js"),__vite__mapDeps([18,1,2,7,6,5])).then(t=>({default:t.BatchComparePage}))),Ce=new H({defaultOptions:{queries:{retry:2,staleTime:6e4}}});function Ae(){return e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx(oe,{className:"w-8 h-8 animate-spin text-primary"})})}function De(){const{theme:t,toggleTheme:o}=D(),[a,i]=d.useState(!1),s=W();d.useEffect(()=>{i(!1)},[s.pathname]);const r=[{to:"/",label:"即時篩選",icon:null},{to:"/realtime",label:"盤中監控",icon:e.jsx(O,{className:"w-4 h-4 text-amber-500"})},{to:"/top20-limit-up",label:"前200周轉漲停",icon:e.jsx(ie,{className:"w-4 h-4 text-amber-500"})},{to:"/turnover-filters",label:"篩選器",icon:e.jsx(le,{className:"w-4 h-4 text-blue-500"})},{to:"/ma-breakout",label:"均線突破",icon:e.jsx(O,{className:"w-4 h-4 text-violet-500"})},{to:"/ma-strategy",label:"均線策略",icon:e.jsx(ce,{className:"w-4 h-4 text-green-500"})},{to:"/turnover",label:"高周轉漲停",icon:e.jsx(de,{className:"w-4 h-4 text-orange-500"})},{to:"/batch",label:"批次比對",icon:null},{to:"/backtest",label:"回測分析",icon:null},{to:"/watchlist",label:"監控清單",icon:null},{to:"/history",label:"歷史記錄",icon:null}],c=n=>s.pathname===n;return e.jsxs("header",{className:"sticky top-0 z-50 w-full",children:[e.jsx("div",{className:"mx-0 mt-0 border-b border-border/50 bg-card/80 backdrop-blur-xl shadow-lg dark:bg-card/60 dark:border-border/30",children:e.jsxs("div",{className:"container mx-auto flex items-center justify-between h-14 px-4",children:[e.jsxs(S,{to:"/",className:"flex items-center gap-2.5 font-bold text-lg group",children:[e.jsx("div",{className:"p-1.5 rounded-lg bg-primary/10 group-hover:bg-primary/20 transition-colors",children:e.jsx(te,{className:"w-5 h-5 text-primary"})}),e.jsx("span",{className:"hidden sm:inline bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text",children:"TWSE 篩選器"})]}),e.jsx("nav",{className:"hidden lg:flex items-center gap-1",children:r.map(n=>e.jsxs(S,{to:n.to,className:`
                                    nav-item flex items-center gap-1.5 cursor-pointer
                                    ${c(n.to)?"active":""}
                                `,children:[n.icon,e.jsx("span",{children:n.label})]},n.to))}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{variant:"ghost",size:"icon",onClick:o,className:"rounded-xl hover:bg-muted",children:t==="dark"?e.jsx(re,{className:"w-5 h-5 text-amber-500"}):e.jsx(ae,{className:"w-5 h-5 text-slate-600"})}),e.jsx(P,{variant:"ghost",size:"icon",className:"lg:hidden rounded-xl hover:bg-muted",onClick:()=>i(!a),"aria-label":"開啟選單",children:a?e.jsx(se,{className:"w-5 h-5"}):e.jsx(ne,{className:"w-5 h-5"})})]})]})}),a&&e.jsx("div",{className:"lg:hidden mx-4 mt-2 rounded-xl border border-border/50 bg-card/95 backdrop-blur-xl shadow-lg animate-fade-in",children:e.jsx("nav",{className:"p-2 flex flex-col gap-1",children:r.map(n=>e.jsxs(S,{to:n.to,className:`
                                    flex items-center gap-2.5 px-4 py-3 rounded-lg text-sm font-medium
                                    transition-all duration-200 cursor-pointer
                                    ${c(n.to)?"bg-primary/10 text-primary":"text-foreground hover:bg-muted"}
                                `,children:[n.icon,e.jsx("span",{children:n.label})]},n.to))})})]})}function ze(){const{theme:t}=D();return d.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(De,{}),e.jsx(je,{children:e.jsx(d.Suspense,{fallback:e.jsx(Ae,{}),children:e.jsxs(Q,{children:[e.jsx(f,{path:"/",element:e.jsx(_e,{})}),e.jsx(f,{path:"/top20-limit-up",element:e.jsx(we,{})}),e.jsx(f,{path:"/turnover-filters",element:e.jsx(Ee,{})}),e.jsx(f,{path:"/ma-breakout",element:e.jsx(Ne,{})}),e.jsx(f,{path:"/ma-strategy",element:e.jsx(ke,{})}),e.jsx(f,{path:"/realtime",element:e.jsx(Re,{})}),e.jsx(f,{path:"/turnover",element:e.jsx(Pe,{})}),e.jsx(f,{path:"/batch",element:e.jsx(Ie,{})}),e.jsx(f,{path:"/backtest",element:e.jsx(Le,{})}),e.jsx(f,{path:"/watchlist",element:e.jsx(Te,{})}),e.jsx(f,{path:"/history",element:e.jsx(Oe,{})}),e.jsx(f,{path:"*",element:e.jsx(Se,{})})]})})})]})}function Be(){return e.jsx(V,{client:Ce,children:e.jsx($,{children:e.jsx(ze,{})})})}he.createRoot(document.getElementById("root")).render(e.jsx(J.StrictMode,{children:e.jsx(Be,{})}));export{P as B,ge as c,ye as p,D as u};
