import{u as b,j as e}from"./vendor-data-BGC679gK.js";import{r as o,L as Oe}from"./vendor-react-CfDhA8Yr.js";import{C as N,c as v,a as _,b as C}from"./card-dh5Bz0st.js";import{B as O}from"./index-DwyPbsGd.js";import{I as l,f as Ve,a as Be,g as He,b as Q}from"./InteractiveChartContainer-B6OUMvy4.js";import{L as n}from"./label-DSI4vcfV.js";import{S as Pe,g as ze,e as Qe,h as Ue,i as Ze,j as Ge,k as Je,l as We,m as Xe,n as Ye}from"./StockAnalysisDialog-BE4wwQRN.js";import{i as De,A as es,q as ae,T as oe,s as ss,f as re,h as ts,m as as,U as rs,B as os,Z as ns,u as ls,v as ds,F as is}from"./vendor-utils-DRjUCHJQ.js";import"./vendor-radix-DB-zNCEb.js";import"./vendor-charts-DVDma2PU.js";const U={limit_up:{label:"漲停股",icon:e.jsx(is,{className:"w-5 h-5"}),color:"text-orange-400",bgColor:"bg-orange-500/10",borderColor:"border-orange-500",description:"週轉率前200名且漲停股"},change_range:{label:"漲幅區間",icon:e.jsx(oe,{className:"w-5 h-5"}),color:"text-sky-400",bgColor:"bg-sky-500/10",borderColor:"border-sky-500",description:"週轉率前200名且漲幅在指定區間"},"5day_high":{label:"五日創新高",icon:e.jsx(ds,{className:"w-5 h-5"}),color:"text-emerald-400",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500",description:"週轉率前200名且收盤價五日內創新高"},"5day_low":{label:"五日創新低",icon:e.jsx(ls,{className:"w-5 h-5"}),color:"text-rose-400",bgColor:"bg-rose-500/10",borderColor:"border-rose-500",description:"週轉率前200名且收盤價五日內創新低"},ma_breakout:{label:"糾結均線",icon:e.jsx(ns,{className:"w-5 h-5"}),color:"text-violet-400",bgColor:"bg-violet-500/10",borderColor:"border-violet-500",description:"糾結均線突破/跌破（全市場）"},volume_surge:{label:"成交量放大",icon:e.jsx(os,{className:"w-5 h-5"}),color:"text-amber-400",bgColor:"bg-amber-500/10",borderColor:"border-amber-500",description:"週轉率前200名且成交量>=昨日N倍"},institutional_buy:{label:"法人連買",icon:e.jsx(rs,{className:"w-5 h-5"}),color:"text-cyan-400",bgColor:"bg-cyan-500/10",borderColor:"border-cyan-500",description:"週轉率前200名且法人連續買超N日以上"},combo:{label:"複合篩選",icon:e.jsx(as,{className:"w-5 h-5"}),color:"text-pink-400",bgColor:"bg-pink-500/10",borderColor:"border-pink-500",description:"自訂多條件組合篩選"}};function js(){const[t,Z]=o.useState(""),[a,G]=o.useState(""),[r,ne]=o.useState("limit_up"),[F,le]=o.useState(""),[k,de]=o.useState(""),[M,ie]=o.useState(""),[S,ce]=o.useState(""),[q,J]=o.useState("breakout"),[L,me]=o.useState("1.5"),[$,xe]=o.useState("3"),[T,ue]=o.useState("1"),[K,pe]=o.useState("3"),[A,he]=o.useState(""),[I,ge]=o.useState(""),[R,be]=o.useState("3"),[E,ye]=o.useState("1.5"),[V,fe]=o.useState(!1),[B,je]=o.useState(!1),[j,W]=o.useState(null),[Ne,X]=o.useState(!1),H=o.useRef(""),[y,ve]=o.useState(0),{data:w}=b({queryKey:["tradingDate"],queryFn:ze,staleTime:5*6e4,refetchOnMount:"always"});o.useEffect(()=>{if(w!=null&&w.latest_trading_day){const s=w.latest_trading_day;(!t||t===H.current)&&Z(s),(!a||a===H.current)&&G(s),H.current=s}},[w]);const we=()=>{ve(s=>s+1)},{data:d,isLoading:_e}=b({queryKey:["top200LimitUp",t,a,y],queryFn:()=>Qe(t,a),enabled:!!t&&!!a&&r==="limit_up"}),{data:i,isLoading:Ce}=b({queryKey:["top200ChangeRange",t,a,F,k,y],queryFn:()=>Ue(t,a,F?parseFloat(F):void 0,k?parseFloat(k):void 0),enabled:!!t&&!!a&&r==="change_range"}),{data:c,isLoading:Fe}=b({queryKey:["top200_5DayHigh",t,a,y],queryFn:()=>Ze(t,a),enabled:!!t&&!!a&&r==="5day_high"}),{data:m,isLoading:ke}=b({queryKey:["top200_5DayLow",t,a,y],queryFn:()=>Ge(t,a),enabled:!!t&&!!a&&r==="5day_low"}),{data:x,isLoading:Me}=b({queryKey:["maBreakout",t,a,M,S,q,y],queryFn:()=>Je(t,a,M?parseFloat(M):void 0,S?parseFloat(S):void 0,q),enabled:!!t&&!!a&&r==="ma_breakout"}),{data:u,isLoading:Se}=b({queryKey:["volumeSurge",t,a,L,y],queryFn:()=>We(t,a,L?parseFloat(L):1.5),enabled:!!t&&!!a&&r==="volume_surge"}),{data:p,isLoading:qe}=b({queryKey:["institutionalBuy",t,a,$,y],queryFn:()=>Xe(t,a,$?parseInt($):3),enabled:!!t&&!!a&&r==="institutional_buy"}),{data:h,isLoading:Le}=b({queryKey:["comboFilter",t,a,T,K,A,I,R,E,V,B,y],queryFn:()=>Ye(t,a,T?parseFloat(T):void 0,K?parseFloat(K):void 0,A?parseFloat(A):void 0,I?parseFloat(I):void 0,R?parseInt(R):void 0,E?parseFloat(E):void 0,V?!0:void 0,B?!0:void 0),enabled:!!t&&!!a&&r==="combo"}),$e=()=>{switch(r){case"limit_up":return{items:(d==null?void 0:d.items)||[],count:(d==null?void 0:d.limit_up_count)||0,loading:_e,totalDays:(d==null?void 0:d.total_days)||0};case"change_range":return{items:(i==null?void 0:i.items)||[],count:(i==null?void 0:i.filtered_count)||0,loading:Ce,totalDays:(i==null?void 0:i.total_days)||0};case"5day_high":return{items:(c==null?void 0:c.items)||[],count:(c==null?void 0:c.new_high_count)||0,loading:Fe,totalDays:(c==null?void 0:c.total_days)||0};case"5day_low":return{items:(m==null?void 0:m.items)||[],count:(m==null?void 0:m.new_low_count)||0,loading:ke,totalDays:(m==null?void 0:m.total_days)||0};case"ma_breakout":return{items:(x==null?void 0:x.items)||[],count:(x==null?void 0:x.breakout_count)||0,loading:Me,totalDays:(x==null?void 0:x.total_days)||0};case"volume_surge":return{items:(u==null?void 0:u.items)||[],count:(u==null?void 0:u.surge_count)||0,loading:Se,totalDays:(u==null?void 0:u.total_days)||0};case"institutional_buy":return{items:(p==null?void 0:p.items)||[],count:(p==null?void 0:p.buy_count)||0,loading:qe,totalDays:(p==null?void 0:p.total_days)||0};case"combo":return{items:(h==null?void 0:h.items)||[],count:(h==null?void 0:h.filtered_count)||0,loading:Le,totalDays:(h==null?void 0:h.total_days)||0};default:return{items:[],count:0,loading:!1,totalDays:0}}},{items:P,count:Te,loading:Ke,totalDays:Ae}=$e(),g=U[r],z=t!==a,Ie=(s,f)=>{W({symbol:s,name:f}),X(!0)},Re=()=>{X(!1),W(null)},Ee=()=>t?t===a?t:`${t} ~ ${a}`:"-";return e.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx(O,{variant:"ghost",size:"icon",asChild:!0,className:"hover:bg-muted/80 transition-colors",children:e.jsx(Oe,{to:"/",children:e.jsx(De,{className:"w-5 h-5"})})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-3 tracking-tight",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:e.jsx(es,{className:"w-6 h-6 text-blue-500"})}),"周轉率前200名篩選器"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"多種篩選條件快速找到目標股票"})]})]}),e.jsx(N,{className:"mb-6 border-border/50 shadow-sm",children:e.jsxs(v,{className:"pt-6",children:[e.jsx("div",{className:"flex flex-wrap gap-2 mb-5",children:Object.keys(U).map(s=>{const f=U[s];return e.jsxs(O,{variant:r===s?"default":"outline",onClick:()=>ne(s),className:`transition-all duration-200 ${r===s?"shadow-md":`${f.color} hover:${f.bgColor} border-border/50`}`,children:[f.icon,e.jsx("span",{className:"ml-2",children:f.label})]},s)})}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-end pt-5 border-t border-border/50",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(n,{className:"flex items-center gap-1.5 text-xs font-medium text-muted-foreground uppercase tracking-wide",children:[e.jsx(ae,{className:"w-3.5 h-3.5"})," 開始日期"]}),e.jsx(l,{type:"date",value:t,onChange:s=>Z(s.target.value),className:"w-44 font-mono text-sm"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(n,{className:"flex items-center gap-1.5 text-xs font-medium text-muted-foreground uppercase tracking-wide",children:[e.jsx(ae,{className:"w-3.5 h-3.5"})," 結束日期"]}),e.jsx(l,{type:"date",value:a,onChange:s=>G(s.target.value),className:"w-44 font-mono text-sm"})]}),r==="change_range"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"漲幅下限 (%)"}),e.jsx(l,{type:"number",step:"0.1",value:F,onChange:s=>le(s.target.value),className:"w-28",placeholder:"不限"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"漲幅上限 (%)"}),e.jsx(l,{type:"number",step:"0.1",value:k,onChange:s=>de(s.target.value),className:"w-28",placeholder:"不限"})]})]}),r==="ma_breakout"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"方向"}),e.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-border",children:[e.jsxs("button",{onClick:()=>J("breakout"),className:`px-3 py-2 text-sm font-medium transition-colors flex items-center gap-1 ${q==="breakout"?"bg-emerald-500/20 text-emerald-400":"bg-muted/30 text-muted-foreground hover:bg-muted/50"}`,children:[e.jsx(oe,{className:"w-3.5 h-3.5"})," 突破"]}),e.jsxs("button",{onClick:()=>J("breakdown"),className:`px-3 py-2 text-sm font-medium transition-colors flex items-center gap-1 border-l border-border ${q==="breakdown"?"bg-rose-500/20 text-rose-400":"bg-muted/30 text-muted-foreground hover:bg-muted/50"}`,children:[e.jsx(ss,{className:"w-3.5 h-3.5"})," 跌破"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"漲幅下限 (%)"}),e.jsx(l,{type:"number",step:"0.1",value:M,onChange:s=>ie(s.target.value),className:"w-28",placeholder:"不限"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"漲幅上限 (%)"}),e.jsx(l,{type:"number",step:"0.1",value:S,onChange:s=>ce(s.target.value),className:"w-28",placeholder:"不限"})]})]}),r==="volume_surge"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"成交量倍數"}),e.jsx(l,{type:"number",step:"0.1",min:"1",value:L,onChange:s=>me(s.target.value),className:"w-28",placeholder:"1.5"})]}),r==="institutional_buy"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"最少連買天數"}),e.jsx(l,{type:"number",step:"1",min:"1",value:$,onChange:s=>xe(s.target.value),className:"w-28",placeholder:"3"})]}),r==="combo"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"周轉率下限 (%)"}),e.jsx(l,{type:"number",step:"0.1",value:T,onChange:s=>ue(s.target.value),className:"w-28",placeholder:"1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"周轉率上限 (%)"}),e.jsx(l,{type:"number",step:"0.1",value:K,onChange:s=>pe(s.target.value),className:"w-28",placeholder:"3"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"漲幅下限 (%)"}),e.jsx(l,{type:"number",step:"0.1",value:A,onChange:s=>he(s.target.value),className:"w-28",placeholder:"不限"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"漲幅上限 (%)"}),e.jsx(l,{type:"number",step:"0.1",value:I,onChange:s=>ge(s.target.value),className:"w-28",placeholder:"不限"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"法人連買天數"}),e.jsx(l,{type:"number",step:"1",min:"1",value:R,onChange:s=>be(s.target.value),className:"w-28",placeholder:"3"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"成交量倍數"}),e.jsx(l,{type:"number",step:"0.1",min:"1",value:E,onChange:s=>ye(s.target.value),className:"w-28",placeholder:"1.5"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"combo5dayHigh",checked:V,onChange:s=>fe(s.target.checked),className:"w-4 h-4 rounded border-border bg-background text-primary focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background cursor-pointer"}),e.jsx(n,{htmlFor:"combo5dayHigh",className:"cursor-pointer",children:"五日創新高"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"combo5dayLow",checked:B,onChange:s=>je(s.target.checked),className:"w-4 h-4 rounded border-border bg-background text-primary focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background cursor-pointer"}),e.jsx(n,{htmlFor:"combo5dayLow",className:"cursor-pointer",children:"五日創新低"})]})]}),e.jsxs(O,{onClick:we,className:"gap-2 shadow-sm hover:shadow-md transition-all duration-200",children:[e.jsx(re,{className:"w-4 h-4"})," 查詢"]})]})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4 mb-6",children:[e.jsxs(N,{className:"border-border/50 shadow-sm hover:shadow-md transition-shadow duration-200",children:[e.jsx(_,{className:"pb-2",children:e.jsx(C,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"查詢日期"})}),e.jsxs(v,{children:[e.jsx("div",{className:"text-lg font-semibold font-mono",children:Ee()}),z&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["共 ",Ae," 天"]})]})]}),e.jsxs(N,{className:"border-border/50 shadow-sm hover:shadow-md transition-shadow duration-200",children:[e.jsx(_,{className:"pb-2",children:e.jsx(C,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:r==="ma_breakout"?"搜尋範圍":"周轉率前200名"})}),e.jsx(v,{children:r==="ma_breakout"?e.jsx("div",{className:"text-lg font-semibold text-primary",children:"全市場"}):e.jsxs("div",{className:"text-2xl font-bold text-primary",children:["200 ",e.jsx("span",{className:"text-base font-normal text-muted-foreground",children:"檔"})]})})]}),e.jsxs(N,{className:`border-l-4 ${g.borderColor} shadow-sm hover:shadow-md transition-shadow duration-200`,children:[e.jsx(_,{className:"pb-2",children:e.jsx(C,{className:`text-xs font-medium uppercase tracking-wide ${g.color}`,children:g.label})}),e.jsx(v,{children:e.jsxs("div",{className:`text-2xl font-bold ${g.color}`,children:[Te," ",e.jsx("span",{className:"text-base font-normal opacity-70",children:"檔"})]})})]}),e.jsxs(N,{className:"border-border/50 shadow-sm hover:shadow-md transition-shadow duration-200",children:[e.jsx(_,{className:"pb-2",children:e.jsx(C,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"篩選說明"})}),e.jsx(v,{children:e.jsx("div",{className:"text-sm leading-relaxed",children:g.description})})]})]}),e.jsxs(N,{className:"border-border/50 shadow-sm overflow-hidden",children:[e.jsx(_,{className:"pb-3 border-b border-border/50",children:e.jsxs(C,{className:"text-lg flex items-center justify-between",children:[e.jsxs("span",{className:`flex items-center gap-2 ${g.color}`,children:[e.jsx("div",{className:`p-1.5 rounded-md ${g.bgColor}`,children:g.icon}),g.label]}),e.jsxs("span",{className:"text-sm font-normal text-muted-foreground bg-muted/50 px-3 py-1 rounded-full",children:["共 ",P.length," 筆"]})]})}),e.jsx(v,{className:"p-0",children:Ke?e.jsxs("div",{className:"py-20 text-center text-muted-foreground",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-3"}),e.jsx("p",{children:"載入中..."})]}):P.length===0?e.jsxs("div",{className:"py-20 text-center text-muted-foreground",children:[e.jsx(re,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),e.jsx("p",{children:"無符合條件的股票，請調整篩選條件後點擊「查詢」"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-muted/30 border-b border-border/50 sticky top-0",children:e.jsxs("tr",{children:[z&&e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"日期"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"排名"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"代號"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"名稱"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"產業"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"收盤價"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"漲幅"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"周轉率"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"成交量"}),r==="ma_breakout"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"MA5"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"MA10"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"MA20"})]}),r==="volume_surge"&&e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"量比"}),r==="institutional_buy"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"連買天數"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"外資"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"投信"})]}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-border/30",children:P.map((s,f)=>{var Y,D,ee,se,te;return e.jsxs("tr",{className:`hover:bg-muted/40 transition-colors duration-150 ${r!=="ma_breakout"&&s.turnover_rank<=10?"font-medium bg-amber-500/5":""}`,children:[z&&e.jsx("td",{className:"px-4 py-3 text-xs text-muted-foreground font-mono",children:s.query_date||"-"}),e.jsx("td",{className:"px-4 py-3",children:r==="ma_breakout"?e.jsx("span",{className:"inline-flex items-center justify-center w-7 h-7 rounded-full text-xs font-semibold bg-muted text-muted-foreground",children:s.turnover_rank||"-"}):e.jsx("span",{className:`inline-flex items-center justify-center w-7 h-7 rounded-full text-xs font-semibold ${s.turnover_rank<=10?"bg-amber-500 text-white shadow-sm":"bg-muted text-muted-foreground"}`,children:s.turnover_rank||"-"})}),e.jsx("td",{className:"px-4 py-3 font-mono font-medium text-primary",children:s.symbol}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("span",{className:"font-medium",children:s.name}),s.is_limit_up&&e.jsx("span",{className:"ml-1.5 inline-flex items-center px-1.5 py-0.5 rounded text-xs bg-orange-500/10 text-orange-500",children:"漲停"}),s.is_5day_high&&e.jsx("span",{className:"ml-1.5 inline-flex items-center px-1.5 py-0.5 rounded text-xs bg-emerald-500/10 text-emerald-500",children:"新高"}),s.is_5day_low&&e.jsx("span",{className:"ml-1.5 inline-flex items-center px-1.5 py-0.5 rounded text-xs bg-rose-500/10 text-rose-500",children:"新低"}),s.is_breakout&&e.jsx("span",{className:`ml-1.5 inline-flex items-center px-1.5 py-0.5 rounded text-xs ${s.direction==="breakdown"?"bg-rose-500/10 text-rose-500":"bg-violet-500/10 text-violet-500"}`,children:s.direction==="breakdown"?"跌破":"突破"})]}),e.jsx("td",{className:"px-4 py-3 text-muted-foreground text-xs",children:s.industry||"-"}),e.jsx("td",{className:"px-4 py-3 font-mono tabular-nums",children:Ve(s.close_price)}),e.jsx("td",{className:`px-4 py-3 font-mono font-semibold tabular-nums ${He(s.change_percent)}`,children:Be(s.change_percent)}),e.jsxs("td",{className:"px-4 py-3 font-mono font-semibold tabular-nums text-sky-500",children:[((Y=s.turnover_rate)==null?void 0:Y.toFixed(1))||"-","%"]}),e.jsx("td",{className:"px-4 py-3 font-mono tabular-nums text-muted-foreground",children:Q(s.volume)}),r==="ma_breakout"&&e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"px-4 py-3 font-mono text-xs tabular-nums",children:((D=s.ma5)==null?void 0:D.toFixed(2))||"-"}),e.jsx("td",{className:"px-4 py-3 font-mono text-xs tabular-nums",children:((ee=s.ma10)==null?void 0:ee.toFixed(2))||"-"}),e.jsx("td",{className:"px-4 py-3 font-mono text-xs tabular-nums",children:((se=s.ma20)==null?void 0:se.toFixed(2))||"-"})]}),r==="volume_surge"&&e.jsxs("td",{className:"px-4 py-3 font-mono font-semibold tabular-nums text-amber-500",children:[((te=s.volume_ratio_calc)==null?void 0:te.toFixed(1))||"-","x"]}),r==="institutional_buy"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:"px-4 py-3 font-mono font-semibold tabular-nums text-cyan-500",children:[s.consecutive_buy_days||"-"," 日"]}),e.jsx("td",{className:"px-4 py-3 font-mono text-xs tabular-nums",children:s.foreign_buy?Q(s.foreign_buy):"-"}),e.jsx("td",{className:"px-4 py-3 font-mono text-xs tabular-nums",children:s.trust_buy?Q(s.trust_buy):"-"})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>Ie(s.symbol,s.name),className:"h-8 w-8 p-0 hover:bg-primary/10 hover:text-primary transition-colors cursor-pointer",title:"查看K線圖",children:e.jsx(ts,{className:"h-4 w-4"})})})]},`${s.symbol}-${s.query_date||f}`)})})]})})})]}),e.jsx(Pe,{open:Ne,onClose:Re,symbol:(j==null?void 0:j.symbol)||null,name:j==null?void 0:j.name})]})}export{js as TurnoverFiltersPage};
