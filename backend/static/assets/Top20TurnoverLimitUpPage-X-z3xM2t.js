import{j as e,u as q,b as re,f as I,g as ie,d as ce,e as oe,h as de}from"./vendor-data-BGC679gK.js";import{r as d,L as B}from"./vendor-react-CfDhA8Yr.js";import{C as x,a as u,b as p,c as m,d as xe}from"./card-CimBm5Re.js";import{u as me,B as c}from"./index-CSe8uDaD.js";import{f as U,a as G,g as Q,b as H,I as V,t as he}from"./InteractiveChartContainer-bW4zGEkZ.js";import{l as Z,P as ue,T as pe,o as je,p as ge,k as R,h as fe,i as W,e as Ne,q as ye,r as ve,F as be,f as _e,D as O,j as we}from"./vendor-utils-Duyaqd-6.js";import{R as v,B as T,c as D,X as z,Y as k,T as b,b as P,C as L,P as Ce,a as Se,L as De,S as ze,e as ke,d as Ke}from"./vendor-charts-D18Uve9I.js";import{S as Me,d as Fe,g as Re,c as Te}from"./StockAnalysisDialog-aFjsypvL.js";import"./vendor-radix-DB-zNCEb.js";const X=["#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#3b82f6","#8b5cf6","#ec4899"],Y=["#dc2626","#e11d48","#f43f5e","#fb7185","#fda4af"];function Pe({stocks:r,top20Full:h=[]}){const K=d.useMemo(()=>r.slice(0,15).map((t,a)=>{var l;return{name:`${((l=t.name)==null?void 0:l.slice(0,4))||t.symbol}`,symbol:t.symbol,turnover_rate:t.turnover_rate,rank:t.turnover_rank,fill:Y[Math.min(a,Y.length-1)]}}).reverse(),[r]),_=d.useMemo(()=>{const t={};return r.forEach(a=>{const l=a.industry||"å…¶ä»–";t[l]=(t[l]||0)+1}),Object.entries(t).map(([a,l])=>({name:a,value:l})).sort((a,l)=>l.value-a.value).slice(0,8)},[r]),w=d.useMemo(()=>(h.length?h:r).map(a=>({symbol:a.symbol,name:a.name,turnover_rate:a.turnover_rate,change_percent:a.change_percent||0,is_limit_up:a.is_limit_up,volume:a.volume||0,size:Math.sqrt((a.volume||1e3)/1e3)*3})),[r,h]),g=d.useMemo(()=>r.map(t=>{var a;return{name:`${((a=t.name)==null?void 0:a.slice(0,4))||t.symbol}`,symbol:t.symbol,amount:(t.volume||0)*(t.close_price||0)*1e3/1e8,rank:t.turnover_rank}}).sort((t,a)=>a.amount-t.amount).slice(0,10).reverse(),[r]),$=d.useMemo(()=>{const t={"é–‹ç›¤ (09:00-09:05)":[],"æ—©ç›¤ (09:05-10:00)":[],"ç›¤ä¸­ (10:00-12:00)":[],"å°¾ç›¤ (12:00-13:30)":[],æœªçŸ¥:[]};return r.forEach(a=>{const l=a.first_limit_time;l?l<="09:05"?t["é–‹ç›¤ (09:00-09:05)"].push(a):l<="10:00"?t["æ—©ç›¤ (09:05-10:00)"].push(a):l<="12:00"?t["ç›¤ä¸­ (10:00-12:00)"].push(a):t["å°¾ç›¤ (12:00-13:30)"].push(a):t.æœªçŸ¥.push(a)}),Object.entries(t).filter(([a,l])=>l.length>0).map(([a,l])=>({name:a,count:l.length,stocks:l.map(o=>o.symbol).join(", ")}))},[r]),C=d.useMemo(()=>{const t={};return r.forEach(a=>{const l=a.limit_up_type||"æœªçŸ¥";t[l]=(t[l]||0)+1}),Object.entries(t).map(([a,l])=>({name:a,value:l}))},[r]);return r.length===0?null:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(x,{className:"lg:col-span-2",children:[e.jsx(u,{className:"pb-2",children:e.jsxs(p,{className:"text-sm flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4"})," å‘¨è½‰çŽ‡æŽ’ååˆ†å¸ƒï¼ˆæ¼¸å±¤ç´…è‰²=æŽ’åè¶Šå‰ï¼‰"]})}),e.jsx(m,{children:e.jsx(v,{width:"100%",height:280,children:e.jsxs(T,{data:K,layout:"vertical",margin:{left:10,right:30},children:[e.jsx(D,{strokeDasharray:"3 3",opacity:.3,horizontal:!1}),e.jsx(z,{type:"number",tick:{fontSize:10},unit:"%"}),e.jsx(k,{dataKey:"name",type:"category",tick:{fontSize:10},width:50}),e.jsx(b,{content:({payload:t})=>{var a;if(t&&t.length){const l=t[0].payload;return e.jsxs("div",{className:"bg-popover p-2 rounded shadow text-xs border",children:[e.jsxs("div",{className:"font-bold",children:[l.symbol," - æŽ’åç¬¬ ",l.rank]}),e.jsxs("div",{children:["å‘¨è½‰çŽ‡: ",(a=l.turnover_rate)==null?void 0:a.toFixed(2),"%"]})]})}return null}}),e.jsx(P,{dataKey:"turnover_rate",radius:[0,4,4,0],children:K.map((t,a)=>e.jsx(L,{fill:t.fill},a))})]})})})]}),e.jsxs(x,{children:[e.jsx(u,{className:"pb-2",children:e.jsxs(p,{className:"text-sm flex items-center gap-2",children:[e.jsx(ue,{className:"w-4 h-4"})," ç”¢æ¥­åˆ†å¸ƒ"]})}),e.jsx(m,{children:_.length>0?e.jsx(v,{width:"100%",height:280,children:e.jsxs(Ce,{children:[e.jsx(Se,{data:_,dataKey:"value",nameKey:"name",cx:"50%",cy:"40%",outerRadius:65,label:({percent:t})=>`${(t*100).toFixed(0)}%`,labelLine:!1,children:_.map((t,a)=>e.jsx(L,{fill:X[a%X.length]},a))}),e.jsx(b,{formatter:(t,a)=>[`${t} æª”`,a]}),e.jsx(De,{layout:"horizontal",verticalAlign:"bottom",align:"center",wrapperStyle:{fontSize:"10px",paddingTop:"8px"},formatter:t=>t.length>6?t.slice(0,6)+"â€¦":t})]})}):e.jsx("div",{className:"h-[280px] flex items-center justify-center text-muted-foreground text-sm",children:"ç„¡è³‡æ–™"})})]}),e.jsxs(x,{className:"lg:col-span-2",children:[e.jsx(u,{className:"pb-2",children:e.jsxs(p,{className:"text-sm flex items-center gap-2",children:[e.jsx(pe,{className:"w-4 h-4"})," å‘¨è½‰çŽ‡ vs æ¼²å¹…ï¼ˆå‰100åï¼‰"]})}),e.jsx(m,{children:e.jsx(v,{width:"100%",height:300,children:e.jsxs(ze,{margin:{bottom:30,left:10,right:20,top:10},children:[e.jsx(D,{strokeDasharray:"3 3",opacity:.3}),e.jsx(z,{dataKey:"turnover_rate",name:"å‘¨è½‰çŽ‡",unit:"%",tick:{fontSize:10},label:{value:"å‘¨è½‰çŽ‡(%)",position:"bottom",fontSize:10,offset:10}}),e.jsx(k,{dataKey:"change_percent",name:"æ¼²å¹…",unit:"%",tick:{fontSize:10},label:{value:"æ¼²å¹…(%)",angle:-90,position:"left",fontSize:10},domain:[-5,12]}),e.jsx(ke,{y:9.9,stroke:"#ef4444",strokeDasharray:"5 5",label:{value:"æ¼²åœç·š 9.9%",fontSize:9,fill:"#ef4444"}}),e.jsx(b,{content:({payload:t})=>{var a,l;if(t&&t.length){const o=t[0].payload;return e.jsxs("div",{className:"bg-popover p-2 rounded shadow text-xs border",children:[e.jsxs("div",{className:"font-bold",children:[o.symbol," ",o.name]}),e.jsxs("div",{children:["å‘¨è½‰çŽ‡: ",(a=o.turnover_rate)==null?void 0:a.toFixed(2),"%"]}),e.jsxs("div",{children:["æ¼²å¹…: ",(l=o.change_percent)==null?void 0:l.toFixed(2),"%"]}),e.jsx("div",{children:o.is_limit_up?"ðŸ”¥ æ¼²åœ":""})]})}return null}}),e.jsx(Ke,{data:w,children:w.map((t,a)=>e.jsx(L,{fill:t.is_limit_up?"#ef4444":"#3b82f6",r:t.size},a))})]})})})]}),e.jsxs(x,{children:[e.jsx(u,{className:"pb-2",children:e.jsxs(p,{className:"text-sm flex items-center gap-2",children:[e.jsx(je,{className:"w-4 h-4"})," æˆäº¤é‡‘é¡æŽ’è¡Œ"]})}),e.jsx(m,{children:e.jsx(v,{width:"100%",height:280,children:e.jsxs(T,{data:g,layout:"vertical",margin:{left:10,right:30},children:[e.jsx(D,{strokeDasharray:"3 3",opacity:.3,horizontal:!1}),e.jsx(z,{type:"number",tick:{fontSize:10},unit:"å„„"}),e.jsx(k,{dataKey:"name",type:"category",tick:{fontSize:10},width:50}),e.jsx(b,{content:({payload:t})=>{var a;if(t&&t.length){const l=t[0].payload,o=g.length-g.indexOf(l)-1,M=o===0?"ðŸ¥‡":o===1?"ðŸ¥ˆ":o===2?"ðŸ¥‰":"";return e.jsxs("div",{className:"bg-popover p-2 rounded shadow text-xs border",children:[e.jsxs("div",{className:"font-bold",children:[M," ",l.symbol]}),e.jsxs("div",{children:["æˆäº¤é‡‘é¡: ",(a=l.amount)==null?void 0:a.toFixed(2)," å„„å…ƒ"]})]})}return null}}),e.jsx(P,{dataKey:"amount",fill:"#22c55e",radius:[0,4,4,0],children:g.map((t,a)=>{const l=g.length-a-1,o=l===0?"#fbbf24":l===1?"#9ca3af":l===2?"#d97706":"#22c55e";return e.jsx(L,{fill:o},a)})})]})})})]}),e.jsxs(x,{className:"lg:col-span-2",children:[e.jsx(u,{className:"pb-2",children:e.jsxs(p,{className:"text-sm flex items-center gap-2",children:[e.jsx(ge,{className:"w-4 h-4"})," æ¼²åœæ™‚é–“åˆ†å¸ƒ"]})}),e.jsx(m,{children:e.jsx(v,{width:"100%",height:200,children:e.jsxs(T,{data:$,margin:{bottom:20},children:[e.jsx(D,{strokeDasharray:"3 3",opacity:.3}),e.jsx(z,{dataKey:"name",tick:{fontSize:9},angle:-15,textAnchor:"end"}),e.jsx(k,{tick:{fontSize:10},allowDecimals:!1}),e.jsx(b,{content:({payload:t})=>{if(t&&t.length){const a=t[0].payload;return e.jsxs("div",{className:"bg-popover p-2 rounded shadow text-xs border max-w-xs",children:[e.jsx("div",{className:"font-bold",children:a.name}),e.jsxs("div",{children:["æ•¸é‡: ",a.count," æª”"]}),e.jsx("div",{className:"text-muted-foreground",children:a.stocks})]})}return null}}),e.jsx(P,{dataKey:"count",fill:"#f97316",radius:[4,4,0,0]})]})})})]}),e.jsxs(x,{children:[e.jsx(u,{className:"pb-2",children:e.jsx(p,{className:"text-sm flex items-center gap-2",children:"ðŸ”¥ æ¼²åœé¡žåž‹"})}),e.jsx(m,{children:C.length>0?e.jsx(v,{width:"100%",height:200,children:e.jsxs(T,{data:C,layout:"vertical",children:[e.jsx(D,{strokeDasharray:"3 3",opacity:.3,horizontal:!1}),e.jsx(z,{type:"number",tick:{fontSize:10},allowDecimals:!1}),e.jsx(k,{dataKey:"name",type:"category",tick:{fontSize:10},width:50}),e.jsx(b,{}),e.jsx(P,{dataKey:"value",fill:"#ef4444",radius:[0,4,4,0]})]})}):e.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground text-sm",children:"ç„¡è³‡æ–™"})})]})]})}function J(r){return r===1?"ðŸ¥‡":r===2?"ðŸ¥ˆ":r===3?"ðŸ¥‰":""}function Le(r){const h=[];return r.limit_up_type==="ä¸€å­—æ¿"&&h.push("ðŸ”¥"),r.consecutive_up_days&&r.consecutive_up_days>=2&&h.push("â­".repeat(Math.min(r.consecutive_up_days,5))),h}function Qe(){const{queryDate:r,setQueryDate:h}=me(),[K,_]=d.useState([{id:"turnover_rank",desc:!1}]),[w,g]=d.useState(""),[$,C]=d.useState(!1),[t,a]=d.useState(null),[l,o]=d.useState(!1),M=(s,n)=>{a({symbol:s,name:n}),o(!0)},ee=()=>{o(!1),a(null)},{data:S}=q({queryKey:["tradingDate"],queryFn:Re,staleTime:5*6e4,refetchOnMount:"always"});d.useEffect(()=>{S!=null&&S.latest_trading_day&&!r&&h(S.latest_trading_day)},[S,r,h]);const{data:j,isLoading:se,error:te,refetch:ae}=q({queryKey:["top20LimitUp",r],queryFn:()=>Te(r),enabled:!!r}),f=j==null?void 0:j.stats,y=(j==null?void 0:j.items)||[],A=(j==null?void 0:j.top20_full_list)||[],F=s=>{const n=new Date;let i=new Date;switch(s){case"today":i=n;break;case"yesterday":i.setDate(n.getDate()-1);break;case"lastWeek":i.setDate(n.getDate()-7);break;case"lastMonth":i.setMonth(n.getMonth()-1);break}h(he(i))},E=s=>{if(y.length===0)return;const n=y.map(i=>({æŽ’å:i.turnover_rank,ä»£è™Ÿ:i.symbol,åç¨±:i.name||"",ç”¢æ¥­:i.industry||"",æ”¶ç›¤åƒ¹:i.close_price||0,æ¼²å¹…:i.change_percent||0,å‘¨è½‰çŽ‡:i.turnover_rate,æˆäº¤é‡:i.volume||0,æµé€šè‚¡æ•¸:i.float_shares||0,æ¼²åœé¡žåž‹:i.limit_up_type||"",å°å–®é‡:i.seal_volume||0,é–‹æ¿æ¬¡æ•¸:i.open_count||0,é€£çºŒä¸Šæ¼²:i.consecutive_up_days||0}));Fe(s,n,`top20_limit_up_${r}`)},le=d.useMemo(()=>[{accessorKey:"turnover_rank",header:({column:s})=>e.jsxs(c,{variant:"ghost",size:"sm",onClick:()=>s.toggleSorting(),children:["æŽ’å ",e.jsx(R,{className:"ml-1 h-3 w-3"})]}),cell:({row:s})=>{const n=s.original.turnover_rank,i=J(n);return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:`inline-flex items-center justify-center w-7 h-7 rounded-full text-xs font-medium ${n<=3?"bg-gradient-to-br from-yellow-400 to-orange-500 text-white":n<=10?"bg-orange-100 text-orange-700":"bg-muted"}`,children:n}),i&&e.jsx("span",{className:"text-lg",children:i})]})}},{accessorKey:"symbol",header:"ä»£è™Ÿ",cell:({row:s})=>e.jsx("span",{className:"font-mono font-medium",children:s.original.symbol})},{accessorKey:"name",header:"åç¨±",cell:({row:s})=>{const n=Le(s.original);return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:s.original.name}),n.map((i,ne)=>e.jsx("span",{children:i},ne))]})}},{accessorKey:"industry",header:"ç”¢æ¥­",cell:({row:s})=>e.jsx("span",{className:"text-xs text-muted-foreground",children:s.original.industry||"-"})},{accessorKey:"close_price",header:({column:s})=>e.jsxs(c,{variant:"ghost",size:"sm",onClick:()=>s.toggleSorting(),children:["æ”¶ç›¤åƒ¹ ",e.jsx(R,{className:"ml-1 h-3 w-3"})]}),cell:({row:s})=>e.jsx("span",{className:"font-mono",children:U(s.original.close_price)})},{accessorKey:"change_percent",header:({column:s})=>e.jsxs(c,{variant:"ghost",size:"sm",onClick:()=>s.toggleSorting(),children:["æ¼²å¹… ",e.jsx(R,{className:"ml-1 h-3 w-3"})]}),cell:({row:s})=>e.jsx("span",{className:`font-mono font-bold ${Q(s.original.change_percent)}`,children:G(s.original.change_percent)})},{accessorKey:"turnover_rate",header:({column:s})=>e.jsxs(c,{variant:"ghost",size:"sm",onClick:()=>s.toggleSorting(),children:["å‘¨è½‰çŽ‡ ",e.jsx(R,{className:"ml-1 h-3 w-3"})]}),cell:({row:s})=>{var n;return e.jsxs("span",{className:"font-mono font-bold text-blue-500",children:[(n=s.original.turnover_rate)==null?void 0:n.toFixed(2),"%"]})}},{accessorKey:"volume",header:"æˆäº¤é‡",cell:({row:s})=>e.jsx("span",{className:"font-mono text-sm",children:H(s.original.volume)})},{accessorKey:"float_shares",header:"æµé€šè‚¡æ•¸",cell:({row:s})=>{var n;return e.jsxs("span",{className:"font-mono text-xs text-muted-foreground",children:[(n=s.original.float_shares)==null?void 0:n.toFixed(0),"è¬"]})}},{accessorKey:"limit_up_type",header:"é¡žåž‹",cell:({row:s})=>{const n=s.original.limit_up_type;return n?e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${n==="ä¸€å­—æ¿"?"bg-red-500 text-white":n==="ç§’æ¿"?"bg-orange-500 text-white":"bg-muted"}`,children:n}):"-"}},{accessorKey:"seal_volume",header:"å°å–®é‡",cell:({row:s})=>e.jsx("span",{className:"font-mono text-sm",children:s.original.seal_volume?H(s.original.seal_volume):"-"})},{accessorKey:"open_count",header:"é–‹æ¿",cell:({row:s})=>e.jsx("span",{className:`text-sm ${(s.original.open_count||0)===0?"text-green-500":""}`,children:s.original.open_count??"-"})},{accessorKey:"consecutive_up_days",header:"é€£æ¼²",cell:({row:s})=>{const n=s.original.consecutive_up_days;return n&&n>0?e.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs bg-red-500/10 text-red-500 font-medium",children:[n,"å¤©"]}):"-"}},{id:"actions",header:"æ“ä½œ",cell:({row:s})=>e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>M(s.original.symbol,s.original.name),className:"h-8 w-8 p-0",title:"æŸ¥çœ‹Kç·šåœ–",children:e.jsx(fe,{className:"h-4 w-4"})})}],[M]),N=re({data:y,columns:le,state:{sorting:K,globalFilter:w},onSortingChange:_,onGlobalFilterChange:g,getCoreRowModel:de(),getSortedRowModel:oe(),getFilteredRowModel:ce(),getPaginationRowModel:ie(),initialState:{pagination:{pageSize:20}}});return e.jsxs("div",{className:"container mx-auto py-6 px-4 space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(c,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(B,{to:"/",children:e.jsx(W,{className:"w-5 h-5"})})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(Ne,{className:"w-7 h-7 text-yellow-500"}),"å‰100å‘¨è½‰æ¼²åœæ¦œ"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"ç•¶æ—¥å‘¨è½‰çŽ‡æŽ’åå‰100åä¸”é”åˆ°æ¼²åœï¼ˆâ‰¥9.9%ï¼‰çš„è‚¡ç¥¨"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-4 h-4 text-muted-foreground"}),e.jsx(V,{type:"date",value:r,onChange:s=>h(s.target.value),className:"w-40"})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>F("today"),children:"ä»Šå¤©"}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>F("yesterday"),children:"æ˜¨å¤©"}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>F("lastWeek"),children:"ä¸Šé€±"}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>F("lastMonth"),children:"ä¸Šæœˆ"})]})]})]}),f&&e.jsxs("div",{className:"grid gap-4 grid-cols-2 md:grid-cols-5",children:[e.jsxs(x,{children:[e.jsx(u,{className:"pb-2",children:e.jsx(p,{className:"text-sm font-medium text-muted-foreground",children:"å‘¨è½‰çŽ‡å‰100å"})}),e.jsxs(m,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[f.top20_count," æª”"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"ç•¶æ—¥å‘¨è½‰çŽ‡æŽ’åå‰100çš„è‚¡ç¥¨"})]})]}),e.jsxs(x,{className:"border-red-500/50 bg-red-500/5",children:[e.jsx(u,{className:"pb-2",children:e.jsx(p,{className:"text-sm font-medium text-red-500",children:"å‰100ä¸­æ¼²åœè‚¡"})}),e.jsxs(m,{children:[e.jsxs("div",{className:"text-2xl font-bold text-red-500",children:[f.limit_up_count," æª”"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"é”åˆ°æ¼²åœçš„è‚¡ç¥¨æ•¸"})]})]}),e.jsxs(x,{children:[e.jsx(u,{className:"pb-2",children:e.jsx(p,{className:"text-sm font-medium text-muted-foreground",children:"æ¼²åœå æ¯”"})}),e.jsxs(m,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[f.limit_up_count,"/",f.top20_count," = ",f.limit_up_ratio,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"ç¬¦åˆæ¢ä»¶çš„è‚¡ç¥¨å æ¯”"})]})]}),e.jsxs(x,{children:[e.jsx(u,{className:"pb-2",children:e.jsx(p,{className:"text-sm font-medium text-muted-foreground",children:"å¹³å‡å‘¨è½‰çŽ‡"})}),e.jsxs(m,{children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-500",children:[f.avg_turnover_rate_limit_up,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"ç¬¦åˆæ¢ä»¶è‚¡ç¥¨çš„å¹³å‡å€¼"})]})]}),e.jsxs(x,{children:[e.jsx(u,{className:"pb-2",children:e.jsx(p,{className:"text-sm font-medium text-muted-foreground",children:"ç¸½æˆäº¤é‡‘é¡"})}),e.jsxs(m,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[f.total_amount_limit_up," å„„"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"ç¬¦åˆæ¢ä»¶è‚¡ç¥¨çš„ç¸½æˆäº¤é¡"})]})]})]}),te&&e.jsx(x,{className:"border-destructive",children:e.jsxs(m,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[e.jsx(ve,{className:"w-5 h-5"}),e.jsx("span",{children:"è³‡æ–™è¼‰å…¥å¤±æ•—ï¼Œè«‹é‡è©¦"})]}),e.jsx(c,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>ae(),children:"é‡æ–°è¼‰å…¥"})]})}),y.length>0&&e.jsx(Pe,{stocks:y,top20Full:A}),e.jsxs(x,{children:[e.jsx(u,{className:"pb-2",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs(p,{className:"text-lg flex items-center gap-2",children:[e.jsx(be,{className:"w-5 h-5 text-orange-500"}),"ç¬¦åˆæ¢ä»¶è‚¡ç¥¨æ¸…å–®"]}),e.jsxs(xe,{children:["å…± ",y.length," æª”è‚¡ç¥¨ç¬¦åˆæ¢ä»¶ï¼ˆ",r,"ï¼‰"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_e,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(V,{placeholder:"æœå°‹ä»£è™Ÿæˆ–åç¨±...",value:w,onChange:s=>g(s.target.value),className:"pl-8 w-48"})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>E("csv"),children:[e.jsx(O,{className:"w-4 h-4 mr-1"})," CSV"]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>E("excel"),children:[e.jsx(O,{className:"w-4 h-4 mr-1"})," Excel"]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>E("json"),children:[e.jsx(O,{className:"w-4 h-4 mr-1"})," JSON"]})]})]})]})}),e.jsx(m,{className:"p-0",children:se?e.jsx("div",{className:"py-20 text-center text-muted-foreground animate-pulse",children:"è¼‰å…¥ä¸­..."}):y.length===0?e.jsxs("div",{className:"py-16 px-8 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“Š"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"ä»Šæ—¥å‘¨è½‰çŽ‡å‰100åä¸­ç„¡æ¼²åœè‚¡ç¥¨"}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-4 max-w-md mx-auto",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium mb-2",children:"å¯èƒ½åŽŸå› ï¼š"}),e.jsxs("ul",{className:"list-disc list-inside text-left",children:[e.jsx("li",{children:"ä»Šæ—¥ç›¤å‹¢è¼ƒå¼±ï¼Œé«˜å‘¨è½‰è‚¡ç¥¨æœªé”æ¼²åœ"}),e.jsx("li",{children:"å‰100åè‚¡ç¥¨å¤šç‚ºä¸‹è·Œæˆ–å°æ¼²"}),e.jsx("li",{children:"è³‡æ–™å°šæœªæ›´æ–°å®Œæˆ"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium mb-2",children:"å»ºè­°ï¼š"}),e.jsxs("ul",{className:"list-disc list-inside text-left",children:[e.jsx("li",{children:"æŸ¥è©¢å…¶ä»–æ—¥æœŸ"}),e.jsx("li",{children:"å±•é–‹æŸ¥çœ‹å®Œæ•´å‰100ååå–®"}),e.jsx("li",{children:"å‰å¾€ã€Œé«˜å‘¨è½‰æ¼²åœã€é é¢æŸ¥çœ‹æ›´å¤šè³‡æ–™"})]})]})]}),e.jsxs("div",{className:"flex justify-center gap-2 mt-6",children:[e.jsxs(c,{variant:"outline",onClick:()=>C(!0),children:[e.jsx(Z,{className:"w-4 h-4 mr-1"})," æŸ¥çœ‹å®Œæ•´å‰100å"]}),e.jsx(c,{asChild:!0,children:e.jsx(B,{to:"/turnover",children:"å‰å¾€é«˜å‘¨è½‰æ¼²åœ"})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-muted/50 border-y",children:N.getHeaderGroups().map(s=>e.jsx("tr",{children:s.headers.map(n=>e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium",children:I(n.column.columnDef.header,n.getContext())},n.id))},s.id))}),e.jsx("tbody",{className:"divide-y",children:N.getRowModel().rows.map(s=>e.jsx("tr",{className:"hover:bg-muted/30",children:s.getVisibleCells().map(n=>e.jsx("td",{className:"px-3 py-3",children:I(n.column.columnDef.cell,n.getContext())},n.id))},s.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["ç¬¬ ",N.getState().pagination.pageIndex+1," é ï¼Œ å…± ",N.getPageCount()," é "]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>N.previousPage(),disabled:!N.getCanPreviousPage(),children:e.jsx(W,{className:"w-4 h-4"})}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>N.nextPage(),disabled:!N.getCanNextPage(),children:e.jsx(we,{className:"w-4 h-4"})})]})]})]})})]}),e.jsxs("details",{className:"border rounded-lg",open:$,onToggle:s=>C(s.target.open),children:[e.jsx("summary",{className:"p-4 cursor-pointer hover:bg-muted/50 font-medium",children:"ðŸ“‹ æŸ¥çœ‹å®Œæ•´å‘¨è½‰çŽ‡å‰100ååå–®ï¼ˆåŒ…å«æœªæ¼²åœï¼‰"}),e.jsx("div",{className:"p-4 pt-0 overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-muted/50 border-y",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs",children:"æŽ’å"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs",children:"ä»£è™Ÿ"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs",children:"åç¨±"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs",children:"ç”¢æ¥­"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs",children:"æ”¶ç›¤åƒ¹"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs",children:"æ¼²å¹…"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs",children:"å‘¨è½‰çŽ‡"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs",children:"æ¼²åœ"})]})}),e.jsx("tbody",{className:"divide-y",children:A.map(s=>{var n;return e.jsxs("tr",{className:`hover:bg-muted/30 ${s.is_limit_up?"bg-orange-500/5":""}`,children:[e.jsxs("td",{className:"px-3 py-2",children:[e.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 rounded-full text-xs ${s.turnover_rank<=3?"bg-yellow-500 text-white":s.turnover_rank<=10?"bg-orange-100 text-orange-700":"bg-muted"}`,children:s.turnover_rank}),J(s.turnover_rank)]}),e.jsx("td",{className:"px-3 py-2 font-mono",children:s.symbol}),e.jsx("td",{className:"px-3 py-2",children:s.name}),e.jsx("td",{className:"px-3 py-2 text-xs text-muted-foreground",children:s.industry||"-"}),e.jsx("td",{className:"px-3 py-2 font-mono",children:U(s.close_price)}),e.jsx("td",{className:`px-3 py-2 font-mono ${Q(s.change_percent)}`,children:G(s.change_percent)}),e.jsxs("td",{className:"px-3 py-2 font-mono text-blue-500",children:[(n=s.turnover_rate)==null?void 0:n.toFixed(2),"%"]}),e.jsx("td",{className:"px-3 py-2",children:s.is_limit_up?e.jsx("span",{className:"px-2 py-0.5 rounded bg-red-500 text-white text-xs",children:"æ¼²åœ ðŸ”¥"}):e.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})})]},s.symbol)})})]})})]}),e.jsx(Me,{open:l,onClose:ee,symbol:(t==null?void 0:t.symbol)||null,name:t==null?void 0:t.name})]})}export{Qe as Top20TurnoverLimitUpPage};
